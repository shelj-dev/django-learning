<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Foxtech | Template</title>
		<link rel="stylesheet" href="assests/style.css" />
	</head>

	<body>
		<div class="wrap">
			<header id="header"></header>

			<main>
				<section>
					<article class="card">
						<!-- Update --------------------------------------------------------->
						<div class="lesson">
							<h1><u>Update</u></h1>
							<ul>
								<p>
									Django – Update (Notes)
									<li>Update means modifying existing data in the database.</li>
									<li>Existing records are fetched using their unique ID.</li>
									<li>Django Models represent the existing data.</li>
									<li>ModelForms are commonly used to update records.</li>
									<li>The View loads the existing data into the form.</li>
									<li>The view checks if the request method is POST.</li>
									<li>Form data is validated before updating.</li>
									<li>
										If validation is successful, changes are saved to the
										database.
									</li>
									<li>After updating, the user is redirected to another page.</li>
									<li>
										If validation fails, the form is shown again with errors.
									</li>
									<li>Templates display the pre-filled form.</li>
									<li>CSRF protection is required for form submission.</li>
									<li>URLs connect the update page to the view.</li>
								</p>
							</ul>

							<h2 id="models">Models</h2>
							<div class="meta">Use existing data — no new migrations</div>

							<p>
								Updating data uses the same model definition. Django retrieves the
								existing object from the database and updates its fields.
							</p>

							<pre><code>
<div class="code-heading">myapp/models.py</div>
from django.db import models

class Student(models.Model):
    name = models.CharField(max_length=50)
    age = models.IntegerField()
</code></pre>

							<h2 id="views">Views</h2>
							<div class="meta">Fetch object — bind form — save</div>

							<pre><code>
<div class="code-heading">myapp/views.py</div>
from django.shortcuts import render, get_object_or_404, redirect
from .models import Student
from .forms import StudentForm

def update_student(request, id):
    student = get_object_or_404(Student, id=id)

    if request.method == "POST":
        form = StudentForm(request.POST, instance=student)
        if form.is_valid():
            form.save()
            return redirect("read")
    else:
        form = StudentForm(instance=student)

    return render(request, "update.html", {"form": form})
</code></pre>

							<h2 id="templates">Template</h2>
							<div class="meta">Pre-filled form</div>

							<pre><code>
<div class="code-heading">templates/update.html</div>
<form method="POST">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Update</button>
</form>
</code></pre>
						</div>

						<hr />
						<!-- Delete --------------------------------------------------------->
						<div class="lesson">
							<h1><u>Delete</u></h1>
							<ul>
								<p>
									Django – Delete (Notes)
									<li>Delete means removing existing data from the database.</li>
									<li>Each record is identified using a unique ID.</li>
									<li>Django Models represent the data to be deleted.</li>
									<li>A View handles the request to delete data.</li>
									<li>
										The object is fetched from the database before deletion.
									</li>
									<li>Deletion usually requires user confirmation.</li>
									<li>
										Once confirmed, the object is permanently removed from the
										database.
									</li>
									<li>After deletion, the user is redirected to another page.</li>
									<li>
										Delete operations should be protected from accidental
										actions.
									</li>
									<li>CSRF protection is required for delete requests.</li>
									<li>URLs connect the delete page to the view.</li>
								</p>
							</ul>

							<h2 id="models">Models</h2>
							<div class="meta">Use existing model — no migrations</div>

							<p>
								Deleting data does not require changes to the model. Django uses the
								existing model structure to locate and remove records.
							</p>

							<pre><code>
<div class="code-heading">myapp/models.py</div>
from django.db import models

class Student(models.Model):
    name = models.CharField(max_length=50)
    age = models.IntegerField()
</code></pre>

							<h2 id="views">Views</h2>
							<div class="meta">Fetch object — confirm — delete</div>

							<pre><code>
<div class="code-heading">myapp/views.py</div>
from django.shortcuts import render, get_object_or_404, redirect
from .models import Student

def delete_student(request, id):
    student = get_object_or_404(Student, id=id)

    if request.method == "POST":
        student.delete()
        return redirect("read")

    return render(request, "delete.html", {"student": student})
</code></pre>

							<h2 id="templates">Template</h2>
							<div class="meta">Confirmation page</div>

							<pre><code>
<div class="code-heading">templates/delete.html</div>
<form method="POST">
    {% csrf_token %}
    <p>Are you sure you want to delete "{{ student.name }}"?</p>
    <button type="submit">Yes, Delete</button>
    <a href="{% url 'read' %}">Cancel</a>
</form>
</code></pre>
						</div>
					</article>
				</section>
			</main>

			<div id="lightbox">
				<span id="close">&times;</span>
				<img id="lightbox-img" />
				<div id="prev" class="nav">&#10094;</div>
				<div id="next" class="nav">&#10095;</div>
			</div>
			<div id="footer"></div>
		</div>
		<script src="assests/scripts.js"></script>
	</body>
</html>
