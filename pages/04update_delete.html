<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Foxtech | Template</title>
		<link rel="stylesheet" href="assests/style.css" />
	</head>

	<body>
		<div class="wrap">
			<header>
				<div class="brand">
					<div class="logo"><img src="assests/logo.ico" alt="Logo" /></div>
					<div>
						<h1>Foxtech</h1>
						<div class="sub"></div>
					</div>
				</div>

				<nav aria-label="Main navigation">
					<ul>
						<li><a href="/index.html">Home</a></li>
					</ul>
				</nav>
			</header>

			<main>
				<section>
					<article class="card">
						<!-- Update --------------------------------------------------------->
						<div class="lesson">
							<h2 id="update-data">Update Data — Edit Post</h2>
							<div class="meta">
								Fetch existing data, populate form, update record using primary key
								(id)
							</div>

							<p>
								To update a post, we fetch it from the database using its
								<code>id</code>, pre-fill the form, and save the changes.
							</p>

							<!-- urls.py -->
							<pre><code><div class="code-heading">core/urls.py</div>
from django.urls import path
from core import views

urlpatterns = [
    path("posts/", views.post_list, name="all_data"),
    path("post/new/", views.create_post, name="create_post"),
    path("post/edit/&lt;int:id&gt;/", views.update_post, name="update_post"),
]
</code></pre>

							<!-- views.py -->
							<pre><code><div class="code-heading">core/views.py</div>
from django.shortcuts import render, redirect, get_object_or_404
from .models import Post
from .forms import PostForm

def update_post(request, id):
    post = get_object_or_404(Post, id=id)

    if request.method == "POST":
        form = PostForm(request.POST, instance=post)
        if form.is_valid():
            form.save()
            return redirect("all_data")
    else:
        form = PostForm(instance=post)

    return render(request, "update_post.html", {"form": form})
</code></pre>

							<!-- template -->
							<pre><code><div class="code-heading">core/templates/update_post.html</div>
&lt;h2&gt;Update Post&lt;/h2&gt;

&lt;form method="POST"&gt;
    {% csrf_token %}
    {{ form.as_p }}
    &lt;button type="submit"&gt;Update&lt;/button&gt;
&lt;/form&gt;
</code></pre>

							<p>Add an edit link inside your post list:</p>

							<pre><code><div class="code-heading">post_list.html</div>
&lt;a href="{% url 'update_post' post.id %}"&gt;Edit&lt;/a&gt;
</code></pre>
						</div>

						<hr />
						<!-- Delete --------------------------------------------------------->
						<div class="lesson">
							<h2 id="delete-data">Delete Data — Remove Post</h2>
							<div class="meta">Delete a record safely with confirmation</div>

							<p>
								Delete functionality removes a post permanently. It’s good practice
								to show a confirmation page before deletion.
							</p>

							<!-- urls.py -->
							<pre><code><div class="code-heading">core/urls.py</div>
from django.urls import path
from core import views

urlpatterns = [
    path("post/delete/&lt;int:id&gt;/", views.delete_post, name="delete_post"),
]
</code></pre>

							<!-- views.py -->
							<pre><code><div class="code-heading">core/views.py</div>
from django.shortcuts import render, redirect, get_object_or_404
from .models import Post

def delete_post(request, id):
    post = get_object_or_404(Post, id=id)

    if request.method == "POST":
        post.delete()
        return redirect("all_data")

    return render(request, "delete_post.html", {"post": post})
</code></pre>

							<!-- template -->
							<pre><code><div class="code-heading">core/templates/delete_post.html</div>
&lt;h2&gt;Delete Post&lt;/h2&gt;
&lt;p&gt;Are you sure you want to delete "&lt;strong&gt;{{ post.title }}&lt;/strong&gt;"?&lt;/p&gt;

&lt;form method="POST"&gt;
    {% csrf_token %}
    &lt;button type="submit"&gt;Yes, Delete&lt;/button&gt;
    &lt;a href="{% url 'all_data' %}"&gt;Cancel&lt;/a&gt;
&lt;/form&gt;
</code></pre>

							<p>Add delete link in post list:</p>

							<pre><code><div class="code-heading">post_list.html</div>
&lt;a href="{% url 'delete_post' post.id %}"&gt;Delete&lt;/a&gt;
</code></pre>
						</div>

						<div style="margin-top: 12px; display: flex; gap: 8px">
							<button class="btn" onclick="window.print()">Print lesson</button>
						</div>
					</article>
				</section>

				<!-- <aside>
					<div class="card">
						<h3>Contents</h3>
						<ul class="toc">
							<li><a href="#project-layout">Getting started</a></li>
						</ul>

						<h4>Resources</h4>
						<ul>
							<li>
								<a href="https://www.djangoproject.com/">
									Django docs — read the tutorial and refs</a
								>
							</li>
						</ul>
					</div>
				</aside> -->
			</main>

			<div id="lightbox">
				<span id="close">&times;</span>
				<img id="lightbox-img" />
				<div id="prev" class="nav">&#10094;</div>
				<div id="next" class="nav">&#10095;</div>
			</div>
		</div>
		<script src="assests/scripts.js"></script>
	</body>
</html>
