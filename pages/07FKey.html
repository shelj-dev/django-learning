<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Foxtech | Django HTML</title>
		<link rel="stylesheet" href="assests/style.css" />
	</head>

	<body>
		<div class="wrap">
			<header id="header"></header>

			<main>
				<section>
					<article class="card">
						<!-- Lesson --------------------------------------------------------->
						<div class="lesson">
							<h2 id="django-html">Foreign Key in Django</h2>
							<div class="meta">
								Learn how Django uses Foreign Keys to link models and display related data in HTML pages using templates and Python logic
							</div>

							<p>
								In Django, a Foreign Key is used to create a relationship between two database tables (models).
It represents a <strong>many-to-one relationship</strong>.
							</p>

							<h3>Step 1: Student Table</h3>
							<p>
								Static HTML files are placed inside the
								<code>templates/</code> folder.
							</p>

							<pre><code><div class="code-heading">myapp/models.py</div>
from django.db import models

class Student(models.Model):
    name = models.CharField(max_length=50)
    age = models.IntegerField()
    profile_pic = models.ImageField(upload_to="profile/", null=True, blank=True)

def __str__(self):
    return self.name

class Course(models.Model):
    name = models.ForeignKey(Customer, on_delete=models.CASCADE)
    course_name = models.CharField(max_length=50)
                                </code></pre>
                                <p>Make & apply migrations:</p>
							<pre><code><div class="code-heading">Terminal</div>
python manage.py makemigrations
python manage.py migrate
</code></pre>
<pre><code><div class="code-heading">myapp/forms.py</div>
from django import forms
from myapp.models import Student,Course

class StudentForm(forms.ModelForm):
    class Meta:
        model = Student
        fields = ['name', 'age', 'profile_pic']

class CourseForm(forms.ModelForm):
    class Meta:
        model = Course
        fields = ['name', 'course_name']

    
    </code></pre>
    <pre><code><div class="code-heading">myapp/views.py</div>
from django.shortcuts import render, redirect, get_object_or_404
from myapp.forms import StudentForm ,CourseForm
from myapp.models import Student,Course
        
def course_create(request):
    if request.method == "POST":
        form = CourseForm(request.POST)
        if form.is_valid():
            form.save()
            return redirect('home')
    else:
        form = CourseForm()
    return render(request, "course_create.html", {'form': form})
        </code></pre>
        <pre><code><div class="code-heading">myapp/urls.py</div>
from django.urls import path
from myapp import views

urlpatterns = [
    ....,
    path('course_create/', views.course_create, name="course_create"),
]
            </code></pre>
            <pre><code><div class="code-heading">myapp/templates/course_create.html</div>
    &lt;form method="post"&gt;
        {% csrf_token %}
        {{ form.as_p }}
        &lt;button type="submit"&gt;Submit&lt;/button&gt;
    &lt;/form&gt;
            </code></pre>
                <h1>Output</h1>
                <div>
                    <img class="gallery-img img" src="img/10.png" alt="" /><br/>
                    <img class="gallery-img img" src="img/11.png" alt="" /><br/>
					<img class="gallery-img img" src="img/12.png" alt="" /><br/>
                </div>
                
			</main>
			<div id="lightbox">
				<span id="close">&times;</span>
				<img id="lightbox-img" />
				<div id="prev" class="nav">&#10094;</div>
				<div id="next" class="nav">&#10095;</div>
			</div>
			<div id="footer"></div>
		</div>

		<script src="assests/scripts.js"></script>
	</body>
</html>
